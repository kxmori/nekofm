"use strict";angular.module("myRadio",["radioServices"]).constant("Brand","Neko.fm").config(["$routeProvider",function(n){n.when("/radio",{templateUrl:"partials/welcome.html",resolve:{url:["$q","Radio",function(n,t){var i=n.defer();return t.isEmpty()?i.resolve("/radio"):i.reject("/radio/list"),i.promise}]}}).when("/radio/search",{templateUrl:"partials/search-result.html",controller:SearchResultCtrl,resolve:{results:["$q","$location","Radio",function(n,t,i){var r=n.defer(),u=t.search();return i.search(u.q,parseInt(u.p),function(n){r.resolve(n)},function(){r.reject("Server error")}),r.promise}]}}).when("/radio/artist/:name",{templateUrl:"partials/artist-tracks.html",controller:ArtistTracksCtrl,resolve:{artist:["$q","$route","Radio",function(n,t,i){var r=n.defer(),u=t.current.params.name;return i.getArtistProfile(u,function(n){r.resolve(n)},function(){r.reject("Server error")}),r.promise}]}}).when("/radio/config",{templateUrl:"partials/config.html",controller:ConfigCtrl,resolve:{station:["$q","Radio",function(n,t){var i=n.defer(),r=t.station();return r?i.resolve(r):i.reject("station not yet open"),i.promise}]}}).when("/radio/config/:artistId",{templateUrl:"partials/artist-detail.html",controller:ArtistDetailCtrl,resolve:{artist:["$q","$route","Radio",function(n,t,i){var r=n.defer(),u=i.getArtistDetail(t.current.params.artistId);return u?r.resolve(u):r.reject("illegal index"),r.promise}]}}).when("/radio/list",{templateUrl:"partials/station-list.html",controller:StationListCtrl}).when("/radio/history",{templateUrl:"partials/song-history.html",controller:SongHistoryCtrl,resolve:{history:["$q","Radio",function(n,t){var i=n.defer(),r=t.history();return r.length==0&&t.isEmpty()?i.reject("history is empty"):i.resolve(r),i.promise}]}}).when("/radio/favorite",{templateUrl:"partials/favorite-list.html",controller:FavoriteListCtrl,resolve:{favorites:["$q","Radio",function(n,t){var i=n.defer(),r=t.favorites();return r.length==0&&t.isEmpty()?i.reject("favorites is empty"):i.resolve(r),i.promise}]}}).when("/radio/donot",{templateUrl:"partials/donot-list.html",controller:DonotListCtrl,resolve:{donots:["$q","Radio",function(n,t){var i=n.defer(),r=t.donots();return r.length==0&&t.isEmpty()?i.reject("donots is empty"):i.resolve(r),i.promise}]}}).otherwise({redirectTo:"/radio"})}]);